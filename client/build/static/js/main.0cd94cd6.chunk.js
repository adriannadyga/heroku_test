(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){e.exports=n(288)},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},173:function(e,t){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},286:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),o=n.n(c),l=n(7),s=n(8),i=n(11),u=n(9),p=n(10),m=n(29),d=(n(114),function(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}),f=(n(115),function(e){e.links,e.location;return r.a.createElement("h1",{className:"logo"},"Blog.app")}),h=n(26),E=(n(116),function(e){var t=e.links,n=e.location;return r.a.createElement("ul",{className:"main-menu"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(h.b,{className:n.pathname===e.path?"active":"",to:e.path},e.title))})))}),v=Object(m.e)((function(e){return r.a.createElement(E,e)})),g=(n(125),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{path:"/",title:"Home"},{path:"/posts/new",title:"Add post"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"}]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.links;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(f,null),r.a.createElement(v,{links:e}))}}]),t}(r.a.Component)),b=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(d,null,r.a.createElement(g,null),t))},O=(n(126),function(e){var t=e.children;return r.a.createElement("h1",{className:"page-title"},t)}),P=n(24),j=n(55),_=n(21),y=n(27),N=n.n(y),k=n(42),S=n.n(k),w="https://mern31-6.herokuapp.com",x=function(e){return e.posts.request},C=function(e){var t=e.posts;return Math.ceil(t.amount/t.postsPerPage)},A=function(e){return"app/".concat("posts","/").concat(e)},q=function(){return{type:U}},R=function(){return{type:M}},T=function(e){return{error:e,type:F}},D=function(e){return{payload:e,type:B}},I=A("LOAD_POSTS"),B=A("LOAD_POSTS_PAGE"),L=A("LOAD_SINGLE_POST"),U=A("START_REQUEST"),M=A("END_REQUEST"),F=A("ERROR_REQUEST"),Q=A("RESET_REQUEST"),X={data:[],request:{pending:!1,error:null,success:null},singlePost:[],amount:0,postsPerPage:5,presentPage:1};n(146);var G=n(25),J=(n(147),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(G.a)(e,["variant","children"]);return r.a.createElement("button",Object.assign({},c,{className:"button button--".concat(n)}),a)}),V=(n(148),function(e){var t=e.children,n=Object(G.a)(e,["children"]);return r.a.createElement("h2",Object.assign({},n,{className:"small-title"}),t)}),H=n(106),Y=n.n(H),z=function(e){var t=e.children,n=Object(G.a)(e,["children"]);return r.a.createElement("div",Object.assign({},n,{className:"html-box"}),Y()(t))},K=function(e){var t=e.id,n=e.title,a=e.content,c=e.author;return r.a.createElement("article",{className:"post-summary"},r.a.createElement(V,null,n),r.a.createElement(z,null,function(e,t){return e.length<1?"Error":e.length<=t?e:e.substr(0,e.lastIndexOf(" ",t))+"..."}(a,100)),r.a.createElement("p",null,"Author: ",c),r.a.createElement(J,{variant:"primary"},r.a.createElement(h.b,{to:"/posts/".concat(t)},"Read more")))},W=function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement("section",{className:"posts-list"},t.map((function(e){return r.a.createElement(K,Object.assign({key:e.id},e))}))))},Z=n(54),$=(n(245),function(){return r.a.createElement(Z.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),ee=n(35),te=(n(246),function(e){var t=e.variant,n=void 0===t?"":t,a=e.children,c=Object(G.a)(e,["variant","children"]);return r.a.createElement(Z.Animated,{animationIn:"fadeIn",animationOut:"fadeOut"},r.a.createElement("div",Object.assign({},c,{className:"alert alert--".concat(n)}),function(){switch(n){case"info":return r.a.createElement(ee.c,null);case"success":return r.a.createElement(ee.a,null);case"warning":case"error":return r.a.createElement(ee.b,null);default:return r.a.createElement(ee.c,null)}}(),r.a.createElement("span",{className:"alert__desc"},a)))}),ne=n(39),ae=(n(247),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={presentPage:n.props.initialPage||1},n.changePage=function(e){var t=n.props.onPageChange;n.setState({presentPage:e}),t(e)},n.previousStep=function(){var e=n.state.presentPage,t=Object(ne.a)(n).changePage;e>1&&t(e-1)},n.nextStep=function(){var e=n.props.pages,t=n.state.presentPage,a=Object(ne.a)(n).changePage;t<e&&a(t+1)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.pages,t=this.state.presentPage,n=this.changePage;return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination__list"},t>1?r.a.createElement("li",{className:"pagination__list__item".concat(" pagination__list__item--active"),onClick:this.previousStep},"<"):"",Object(j.a)(Array(e)).map((function(e,a){return r.a.createElement("li",{key:++a,onClick:function(){n(a)},className:"pagination__list__item".concat(a===t?" pagination__list__item--active":"")},a)})),t===e?"":r.a.createElement("li",{className:"pagination__list__item".concat(" pagination__list__item--active"),onClick:this.nextStep},">")))}}]),t}(r.a.Component)),re=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).loadPostsPage=function(e){var t=n.props;(0,t.loadPostsByPage)(e,t.postsPerPage)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadPostsByPage)(e.initialPage,e.postsPerPage)}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.request,a=e.pages,c=e.pagination,o=e.presentPage,l=this.loadPostsPage,s=n.pending?r.a.createElement($,null):n.success&&t.length>0?!0===c?r.a.createElement("div",null,r.a.createElement(W,{posts:t}),r.a.createElement(ae,{pages:a,onPageChange:l,initialPage:o})):r.a.createElement(W,{posts:t}):r.a.createElement(te,{variant:"error"}," ",n.error," ")||r.a.createElement(te,{variant:"info"}," No posts!!! ");return r.a.createElement("div",null," ",s," ")}}]),t}(r.a.Component);re.defaultProps={initialPage:1,postsPerPage:5,pagination:!0};var ce=re,oe=Object(P.b)((function(e){return{posts:(n=e,n.posts.data),request:x(e),pages:C(e),presentPage:(t=e,t.posts.presentPage)};var t,n}),(function(e){return{loadPostsByPage:function(t,n){return e(function(e,t){return function(n){var a,r,c,o;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n(q()),l.prev=1,a=(e-1)*t,r=t,l.next=6,N.a.awrap(S.a.get("".concat(w).concat("/api","/posts/range/").concat(a,"/").concat(r)));case 6:c=l.sent,o={posts:c.data.posts,amount:c.data.amount,postsPerPage:t,presentPage:e},n(D(o)),n(R()),l.next=15;break;case 12:l.prev=12,l.t0=l.catch(1),n(T(l.t0.message));case 15:case"end":return l.stop()}}),null,null,[[1,12]])}}(t,n))}}}))(ce),le=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Blog"),r.a.createElement(oe,{postsPerPage:3,pagination:!1}))},se=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.posts;return r.a.createElement("div",null,e>0?"Posts amount: "+e:" No posts ")}}]),t}(r.a.Component),ie=Object(P.b)((function(e){return{posts:(t=e,t.posts.data.length),request:x(e)};var t}),(function(e){return{loadPosts:function(){return e((function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e(q()),n.prev=1,n.next=4,N.a.awrap(S.a.get("".concat(w).concat("/api","/posts")));case 4:t=n.sent,e({payload:t.data,type:I}),e(R()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e(T(n.t0.message));case 12:case"end":return n.stop()}}),null,null,[[1,9]])}))}}}))(se),ue=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Posts list"),r.a.createElement(ie,null),r.a.createElement(oe,null))},pe=n(53),me=n(107),de=n.n(me),fe=(n(251),n(252),n(253),function(e){var t=e.value,n=e.label,a=e.onChange,c=Object(G.a)(e,["value","label","onChange"]);return r.a.createElement("label",{className:"text-field"},r.a.createElement("span",{className:"text-field__label ".concat(!t.length>0?"text-field__label--big":"")},n),r.a.createElement("input",Object.assign({},c,{value:t,onChange:a,className:"text-field__input"})))}),he=(n(254),function(e){var t=e.children;return r.a.createElement("h2",{className:"section-title"},t)}),Ee=(n(255),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post:{title:"",author:"",content:""}},n.handleChange=function(e){var t=n.state.post;n.setState({post:Object(_.a)({},t,Object(pe.a)({},e.target.name,e.target.value))})},n.handleEditor=function(e){var t=n.state.post;n.setState({post:Object(_.a)({},t,{content:e})})},n.addPost=function(e){var t=n.props,a=t.addPost,r=t.resetRequest,c=n.state.post;e.preventDefault(),a(c),r()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.resetRequest)()}},{key:"render",value:function(){var e=this.state.post,t=this.handleChange,n=this.handleEditor,a=this.addPost,c=this.props.request;return c.error?r.a.createElement(te,{variant:"error"},c.error):c.success?r.a.createElement(te,{variant:"success"},"Post has been added!"):c.pending?r.a.createElement($,null):r.a.createElement("form",{onSubmit:a},r.a.createElement(fe,{label:"Title",value:e.title,onChange:t,name:"title"}),r.a.createElement(fe,{label:"Author",value:e.author,onChange:t,name:"author"}),r.a.createElement(he,null,"Edit post content"),r.a.createElement(de.a,{className:"content-editor",text:e.content,onChange:n,options:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}}}),r.a.createElement(J,{variant:"primary"},"Add post"))}}]),t}(r.a.Component)),ve=Object(P.b)((function(e){return{request:x(e)}}),(function(e){return{addPost:function(t){return e(function(e){return function(t){return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(q()),n.prev=1,n.next=4,N.a.awrap(S.a.post("".concat(w).concat("/api","/posts"),e));case 4:t(R()),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t(T(n.t0.message));case 10:case"end":return n.stop()}}),null,null,[[1,7]])}}(t))},resetRequest:function(){return e({type:Q})}}}))(Ee),ge=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Add Post"),r.a.createElement(ve,null))},be=n(43),Oe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadPost)(e.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.request,a=e.location,c=n.pending?r.a.createElement($,null):n.success?t.length>0?r.a.createElement("article",{className:"post-summary"},r.a.createElement(V,null,t[0].title),r.a.createElement(z,null,t[0].content),r.a.createElement("p",null,"Author: ",t[0].author),r.a.createElement(be.FacebookProvider,{appId:"381113066102363"},r.a.createElement(be.Comments,{href:"".concat(w,"/").concat(a.pathname)})),r.a.createElement(be.FacebookProvider,{appId:"381113066102363"},r.a.createElement(be.ShareButton,{className:"fb-share-button",href:"".concat(w,"/").concat(a.pathname)},"Share this link!"))):r.a.createElement(te,{variant:"info"}," No posts!!! "):(r.a.createElement(te,{variant:"error"}," ",n.error.toString()," "),console.log(n.error));return r.a.createElement("div",null,c)}}]),t}(r.a.Component),Pe=Object(m.e)((function(e){return r.a.createElement(Oe,e)})),je=Object(P.b)((function(e){return{posts:(t=e,t.posts.singlePost),request:x(e)};var t}),(function(e){return{loadPost:function(t){return e(function(e){return function(t){var n;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(q()),a.prev=1,a.next=4,N.a.awrap(S.a.get("".concat(w).concat("/api","/posts/").concat(e)));case 4:n=a.sent,t({payload:n.data,type:L}),t(R()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t(T(a.t0.message));case 12:case"end":return a.stop()}}),null,null,[[1,9]])}}(t))}}}))(Pe),_e=function(){return r.a.createElement("div",null,r.a.createElement(je,null))},ye=function(){return r.a.createElement("div",null,r.a.createElement(O,null,"Contact"),r.a.createElement("p",null,"Your Favourite Blooger Ltd."),r.a.createElement("p",null,"9432 Division Street"),r.a.createElement("p",null,"Stone Mountain, GA 30083"))},Ne=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 Not Found"))},ke=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:le}),r.a.createElement(m.a,{path:"/posts",exact:!0,component:ue}),r.a.createElement(m.a,{path:"/posts/new",exact:!0,component:ge}),r.a.createElement(m.a,{path:"/posts/:id",exact:!0,component:_e}),r.a.createElement(m.a,{path:"/contact",exact:!0,component:ye}),r.a.createElement(m.a,{component:Ne})))}}]),t}(r.a.Component),Se=(n(286),n(287),n(30)),we=n(108),xe=Object(Se.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:return Object(_.a)({},e,{data:t.payload});case B:return Object(_.a)({},e,{postsPerPage:t.payload.postsPerPage,presentPage:t.payload.presentPage,amount:t.payload.amount,data:Object(j.a)(t.payload.posts)});case L:return Object(_.a)({},e,{singlePost:t.payload});case U:return Object(_.a)({},e,{request:{pending:!0,error:null,success:null}});case M:return Object(_.a)({},e,{request:{pending:!1,error:null,success:!0}});case Q:return Object(_.a)({},e,{request:{pending:!1,error:null,success:null}});case F:return Object(_.a)({},e,{request:{pending:!1,error:t.error,success:!1}});default:return e}}}),Ce=Object(Se.e)(xe,Object(Se.d)(Object(Se.a)(we.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement((function(){return r.a.createElement(P.a,{store:Ce},r.a.createElement(h.a,null,r.a.createElement(ke,null)))}),null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.0cd94cd6.chunk.js.map